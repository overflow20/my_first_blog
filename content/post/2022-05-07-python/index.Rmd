---
title: Pythonæ¯æ—¥éšå¿ƒè®°
author: zyy
date: '2022-05-07'
slug: python
categories: []
tags: []
---

ä¹¦ç±åˆ—è¡¨(æ›´æ–°ä¸­)ï¼š

- [åˆ©ç”¨ Python è¿›è¡Œæ•°æ®åˆ†æ Â· ç¬¬ 2 ç‰ˆ](https://www.bookstack.cn/read/pyda-2e-zh/README.md),ç¬¬3ç‰ˆå·²äº2022å¹´æ›´æ–°ï¼Œ[ç¬¬3ç‰ˆç½‘å€](https://wesmckinney.com/book/)

## 5.10
ä»Šå¤©ç»„åˆæ‘¸é±¼å“ˆå“ˆå“ˆæ¥äº†ï¼

- ndarrayæ˜¯ä¸€ä¸ªé€šç”¨çš„åŒæ„æ•°æ®å¤šç»´å®¹å™¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå…¶ä¸­çš„æ‰€æœ‰å…ƒç´ å¿…é¡»æ˜¯ç›¸åŒç±»å‹çš„ã€‚æ¯ä¸ªæ•°ç»„éƒ½æœ‰ä¸€ä¸ªshapeï¼ˆä¸€ä¸ªè¡¨ç¤ºå„ç»´åº¦å¤§å°çš„å…ƒç»„ï¼‰å’Œä¸€ä¸ªdtypeï¼ˆä¸€ä¸ªç”¨äºè¯´æ˜æ•°ç»„æ•°æ®ç±»å‹çš„å¯¹è±¡ï¼‰
- é€šè¿‡ndarrayçš„`astype`æ–¹æ³•æ˜ç¡®åœ°å°†ä¸€ä¸ªæ•°ç»„ä»ä¸€ä¸ªdtypeè½¬æ¢æˆå¦ä¸€ä¸ªdtype

æˆ‘å¯çœŸæ˜¯å¤ªå›°äº†ï¼Œä¸ºä»€ä¹ˆç»„ä¼šä¸åˆ†ä¸ªæœ¬ç¡•åšä¸‰ä¸ªç­‰çº§å¼€å‘¢å‘œå‘œå‘œğŸ˜­ğŸ˜­ğŸ˜­

## 5.9
- å­—å…¸çš„`setdefault`
- `collections`æ¨¡å—æœ‰ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„ç±»,`defaultdict`
- **å¯å“ˆå¸Œæ€§**:å­—å…¸çš„å€¼å¯ä»¥æ˜¯ä»»æ„Pythonå¯¹è±¡ï¼Œè€Œé”®é€šå¸¸æ˜¯ä¸å¯å˜çš„æ ‡é‡ç±»å‹ï¼ˆæ•´æ•°ã€æµ®ç‚¹å‹ã€å­—ç¬¦ä¸²ï¼‰æˆ–å…ƒ
ç»„ï¼ˆå…ƒç»„ä¸­çš„å¯¹è±¡å¿…é¡»æ˜¯ä¸å¯å˜çš„ï¼‰
- é›†åˆä½¿ç”¨æ–¹æ³•ï¼š
![](3.jpg)
- å†…ç½®çš„`map`å‡½æ•°ï¼Œå®ƒç”¨äºåœ¨ä¸€ç»„æ•°æ®ä¸Šåº”ç”¨ä¸€ä¸ªå‡½æ•°
- èƒ½ä»¥ä¸€ç§ä¸€è‡´çš„æ–¹å¼å¯¹åºåˆ—è¿›è¡Œè¿­ä»£ï¼ˆæ¯”å¦‚åˆ—è¡¨ä¸­çš„å¯¹è±¡æˆ–æ–‡ä»¶ä¸­çš„è¡Œï¼‰æ˜¯Pythonçš„ä¸€ä¸ªé‡è¦ç‰¹ç‚¹ã€‚**è¿­ä»£å™¨**æ˜¯ä¸€ç§ç‰¹æ®Šå¯¹è±¡ï¼Œå®ƒå¯ä»¥åœ¨è¯¸å¦‚forå¾ªç¯ä¹‹ç±»çš„ä¸Šä¸‹æ–‡ä¸­å‘Pythonè§£é‡Šå™¨è¾“é€å¯¹è±¡ã€‚
- ç”Ÿæˆå™¨ï¼ˆgeneratorï¼‰æ˜¯æ„é€ æ–°çš„å¯è¿­ä»£å¯¹è±¡çš„ä¸€ç§ç®€å•æ–¹å¼ã€‚ä¸€èˆ¬çš„å‡½æ•°æ‰§è¡Œä¹‹ååªä¼šè¿”å›å•ä¸ª
å€¼ï¼Œè€Œç”Ÿæˆå™¨åˆ™æ˜¯ä»¥å»¶è¿Ÿçš„æ–¹å¼è¿”å›ä¸€ä¸ªå€¼åºåˆ—ï¼Œå³æ¯è¿”å›ä¸€ä¸ªå€¼ä¹‹åæš‚åœï¼Œç›´åˆ°ä¸‹ä¸€ä¸ªå€¼è¢«è¯·æ±‚æ—¶å†ç»§ç»­ã€‚è¦åˆ›å»ºä¸€ä¸ªç”Ÿæˆå™¨ï¼Œåªéœ€å°†å‡½æ•°ä¸­çš„returnæ›¿æ¢ä¸ºyeildå³å¯ã€‚
groupbyå¯ä»¥æ¥å—ä»»ä½•åºåˆ—å’Œä¸€ä¸ªå‡½æ•°ã€‚å®ƒæ ¹æ®å‡½æ•°çš„è¿”å›å€¼å¯¹åºåˆ—ä¸­çš„è¿ç»­å…ƒç´ è¿›è¡Œåˆ†ç»„ã€‚
```
import itertools
first_letter = lambda x: x[0]
names = ['Alan', 'Adam', 'Wes', 'Will', 'Albert', 'Steven']
for letter, names in itertools.groupby(names, first_letter):
  print(letter, list(names)) # names is a generator
```
åˆ°78é¡µäº†ï¼Œè¿™ä¸ª[ç”Ÿæˆå™¨è¿­ä»£å™¨](https://www.runoob.com/python3/python3-iterator-generator.html)æœ‰æå¤´
[è¿™ä¸ªä¹Ÿä¸é”™](https://zhuanlan.zhihu.com/p/341439647)

## 5.8
å•Šæˆ‘åˆšçœ‹å®ŒRçš„æ•°æ®ç±»å‹å¤´å¤§äº†å“ˆå“ˆå“ˆâœ‹

- Pythonæœ€è¿‘æ–°å¢äº†æ›´å¤šé«˜çº§çš„å…ƒç»„æ‹†åˆ†åŠŸèƒ½ï¼Œå…è®¸ä»å…ƒç»„çš„å¼€å¤´â€œæ‘˜å–â€å‡ ä¸ªå…ƒç´ ã€‚å®ƒä½¿ç”¨äº†ç‰¹æ®Šçš„
è¯­æ³• `*_`
- ç”¨`extend`æ–¹æ³•è¦æ¯”`+`ä¸²è”å¿«
-  `bisect`æ¨¡å—ï¼Œ`bisect.bisect` å¯ä»¥æ‰¾åˆ°æ’å…¥å€¼åä»ä¿è¯æ’åºçš„ä½ç½®ï¼Œ `bisect.insort` æ˜¯å‘è¿™ä¸ªä½ç½®æ’å…¥å€¼
- `enumerate`ğŸ˜
- `zip` å¯ä»¥å°†å¤šä¸ªåˆ—è¡¨ã€å…ƒç»„æˆ–å…¶å®ƒåºåˆ—æˆå¯¹ç»„åˆæˆä¸€ä¸ªå…ƒç»„åˆ—è¡¨ï¼š

ä»Šå¤©çœ‹åˆ°57é¡µï¼


## 5.7
ä¸€äº›è¡Œè¯ï¼š

- Munge/Munging/Wranglingï¼šæ•°æ®è§„æ•´
- Pseudocode ä¼ªç 
- Syntactic sugar è¯­æ³•ç³–

- Tabå¯ä»¥è¡¥å…¨~
- åœ¨å˜é‡å‰åä½¿ç”¨é—®å·ï¼Œå¯ä»¥æ˜¾ç¤ºå¯¹è±¡çš„ä¿¡æ¯
- jupyter notebookå¿«æ·é”®ï¼š

![](1.jpg)

- é­”æœ¯å‘½ä»¤æ˜¯åœ¨æŒ‡ä»¤å‰æ·»åŠ ç™¾åˆ†å·%å‰ç¼€ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ç”¨ `%timeit`æµ‹é‡ä»»ä½•Pythonè¯­å¥,ç”¨ `%quickref` æˆ– `%magic` å­¦ä¹ ä¸‹æ‰€æœ‰ç‰¹æ®Šå‘½ä»¤ã€‚

![](2.jpg)

- å¯ä»¥ç”¨ `obj.attribute_name` è®¿é—®å±æ€§å’Œæ–¹æ³•
- ç»å¸¸åœ°ï¼Œä½ å¯èƒ½ä¸å…³å¿ƒå¯¹è±¡çš„ç±»å‹ï¼Œåªå…³å¿ƒå¯¹è±¡æ˜¯å¦æœ‰æŸäº›æ–¹æ³•æˆ–ç”¨é€”ã€‚è¿™é€šå¸¸è¢«ç§°ä¸ºâ€œé¸­å­ç±»å‹â€ğŸ˜ƒæ¥è‡ªâ€œèµ°èµ·æ¥åƒé¸­å­ã€å«èµ·æ¥åƒé¸­å­ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯é¸­å­â€çš„è¯´æ³•ã€‚
- ä¸‰å…ƒè¡¨è¾¾å¼ `"positive" if x >= 0 else "negative`
- datetime

```
from datetime import datetime, date, time
dt = datetime(2011, 10, 29, 20, 30, 21)
dt.strftime('%m/%d/%Y %H:%M')#strftime æ–¹æ³•å¯ä»¥å°†datetimeæ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²
datetime.strptime('20091031', '%Y%m%d')
#strptime å¯ä»¥å°†å­—ç¬¦ä¸²è½¬æ¢æˆ datetime å¯¹è±¡ã€‚
```

