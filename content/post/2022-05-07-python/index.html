---
title: Python每日随心记
author: zyy
date: '2022-05-07'
slug: python
categories: []
tags: []
---



<p>书籍列表(更新中)：</p>
<ul>
<li><a href="https://www.bookstack.cn/read/pyda-2e-zh/README.md">利用 Python 进行数据分析 · 第 2 版</a>,第3版已于2022年更新，<a href="https://wesmckinney.com/book/">第3版网址</a></li>
</ul>
<div id="section" class="section level2">
<h2>5.12</h2>
<pre><code>arr = np.random.randn(7) * 5
remainder, whole_part = np.modf(arr)#它会返回浮点数数组的小数和整数部分</code></pre>
<pre><code>points = np.arange(-5, 5, 0.01) 
xs, ys = np.meshgrid(points, points)
z = np.sqrt(xs ** 2 + ys ** 2)
import matplotlib.pyplot as plt
plt.imshow(z, cmap=plt.cm.gray); plt.colorbar()
plt.title(&quot;Image plot of $\sqrt{x^2 + y^2}$ for a grid of values&quot;)</code></pre>
<ul>
<li>条件表达</li>
</ul>
<pre><code>arr = np.random.randn(4, 4)
np.where(arr &gt; 0, 2, arr) # set only positive values to 2</code></pre>
<p><img src="4.jpg" /></p>
<p><img src="5.jpg" /></p>
</div>
<div id="section-1" class="section level2">
<h2>5.11</h2>
<ul>
<li>花式索引(Fancy indexing) 是一个NumPy术语，它指的是利用整数数组进行索引。花式索引跟切片不一样，它总是将数据复制到新数组中。</li>
<li>转置是重塑的一种特殊形式，它返回的是源数据的视图（不会进行任何复制操作）。数组不仅有<code>transpose</code>方法，还有一个特殊的T属性:</li>
</ul>
<pre><code>#利用np.dot计算矩阵内积
arr = np.random.randn(6, 3)
np.dot(arr, arr.T)</code></pre>
<ul>
<li>对于高维数组，transpose需要得到一个由轴编号组成的元组才能对这些轴进行转置,ndarray还有一个swapaxes方法，它需要接
受一对轴编号</li>
</ul>
</div>
<div id="section-2" class="section level2">
<h2>5.10</h2>
<p>今天组合摸鱼哈哈哈来了！</p>
<ul>
<li>ndarray是一个通用的同构数据多维容器，也就是说，其中的所有元素必须是相同类型的。每个数组都有一个shape（一个表示各维度大小的元组）和一个dtype（一个用于说明数组数据类型的对象）</li>
<li>通过ndarray的<code>astype</code>方法明确地将一个数组从一个dtype转换成另一个dtype</li>
</ul>
<p>我可真是太困了，为什么组会不分个本硕博三个等级开呢呜呜呜😭😭😭</p>
</div>
<div id="section-3" class="section level2">
<h2>5.9</h2>
<ul>
<li>字典的<code>setdefault</code></li>
<li><code>collections</code>模块有一个很有用的类,<code>defaultdict</code></li>
<li><strong>可哈希性</strong>:字典的值可以是任意Python对象，而键通常是不可变的标量类型（整数、浮点型、字符串）或元
组（元组中的对象必须是不可变的）</li>
<li>集合使用方法：
<img src="3.jpg" /></li>
<li>内置的<code>map</code>函数，它用于在一组数据上应用一个函数</li>
<li>能以一种一致的方式对序列进行迭代（比如列表中的对象或文件中的行）是Python的一个重要特点。<strong>迭代器</strong>是一种特殊对象，它可以在诸如for循环之类的上下文中向Python解释器输送对象。</li>
<li>生成器（generator）是构造新的可迭代对象的一种简单方式。一般的函数执行之后只会返回单个
值，而生成器则是以延迟的方式返回一个值序列，即每返回一个值之后暂停，直到下一个值被请求时再继续。要创建一个生成器，只需将函数中的return替换为yeild即可。
groupby可以接受任何序列和一个函数。它根据函数的返回值对序列中的连续元素进行分组。</li>
</ul>
<pre><code>import itertools
first_letter = lambda x: x[0]
names = [&#39;Alan&#39;, &#39;Adam&#39;, &#39;Wes&#39;, &#39;Will&#39;, &#39;Albert&#39;, &#39;Steven&#39;]
for letter, names in itertools.groupby(names, first_letter):
  print(letter, list(names)) # names is a generator</code></pre>
<p>到78页了，这个<a href="https://www.runoob.com/python3/python3-iterator-generator.html">生成器迭代器</a>有搞头
<a href="https://zhuanlan.zhihu.com/p/341439647">这个也不错</a></p>
</div>
<div id="section-4" class="section level2">
<h2>5.8</h2>
<p>啊我刚看完R的数据类型头大了哈哈哈✋</p>
<ul>
<li>Python最近新增了更多高级的元组拆分功能，允许从元组的开头“摘取”几个元素。它使用了特殊的
语法 <code>*_</code></li>
<li>用<code>extend</code>方法要比<code>+</code>串联快</li>
<li><code>bisect</code>模块，<code>bisect.bisect</code> 可以找到插入值后仍保证排序的位置， <code>bisect.insort</code> 是向这个位置插入值</li>
<li><code>enumerate</code>😎</li>
<li><code>zip</code> 可以将多个列表、元组或其它序列成对组合成一个元组列表：</li>
</ul>
<p>今天看到57页！</p>
</div>
<div id="section-5" class="section level2">
<h2>5.7</h2>
<p>一些行话：</p>
<ul>
<li><p>Munge/Munging/Wrangling：数据规整</p></li>
<li><p>Pseudocode 伪码</p></li>
<li><p>Syntactic sugar 语法糖</p></li>
<li><p>Tab可以补全~</p></li>
<li><p>在变量前后使用问号，可以显示对象的信息</p></li>
<li><p>jupyter notebook快捷键：</p></li>
</ul>
<p><img src="1.jpg" /></p>
<ul>
<li>魔术命令是在指令前添加百分号%前缀。例如，可以用 <code>%timeit</code>测量任何Python语句,用 <code>%quickref</code> 或 <code>%magic</code> 学习下所有特殊命令。</li>
</ul>
<p><img src="2.jpg" /></p>
<ul>
<li>可以用 <code>obj.attribute_name</code> 访问属性和方法</li>
<li>经常地，你可能不关心对象的类型，只关心对象是否有某些方法或用途。这通常被称为“鸭子类型”😃来自“走起来像鸭子、叫起来像鸭子，那么它就是鸭子”的说法。</li>
<li>三元表达式 <code>"positive" if x &gt;= 0 else "negative</code></li>
<li>datetime</li>
</ul>
<pre><code>from datetime import datetime, date, time
dt = datetime(2011, 10, 29, 20, 30, 21)
dt.strftime(&#39;%m/%d/%Y %H:%M&#39;)#strftime 方法可以将datetime格式化为字符串
datetime.strptime(&#39;20091031&#39;, &#39;%Y%m%d&#39;)
#strptime 可以将字符串转换成 datetime 对象。</code></pre>
</div>
